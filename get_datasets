#!/usr/bin/env fish

set root "datasets"

### sparse matrices from SuiteSparse: https://sparse.tamu.edu/ML_Graph

set sparse_root "$root/suitesparse"

# create folders
mkdir -p $sparse_root

set urls \
"http://sparse-files.engr.tamu.edu/MM/ML_Graph/JapaneseVowelsSmall_10NN.tar.gz" \
"http://sparse-files.engr.tamu.edu/MM/ML_Graph/yeast_30NN.tar.gz" \
"http://sparse-files.engr.tamu.edu/MM/ML_Graph/Plants_10NN.tar.gz" \
"http://sparse-files.engr.tamu.edu/MM/ML_Graph/mice_10NN.tar.gz" \
"http://sparse-files.engr.tamu.edu/MM/ML_Graph/iris_dataset_30NN.tar.gz"

for url in $urls
    set fname (string split "/" -- $url)[-1]
    set name (string split "." -- $fname)[1]
    set path "$sparse_root/$name"
    # if not downloaded, download and extract
    if test ! -d $path
        curl $url --output $fname
        tar -xvf $fname -C "$sparse_root"
        rm $fname
    end
end

### datasets from the book "Gaussian Processes for Machine Learning":
# https://gaussianprocess.org/gpml/data/

set gpml_root "$root/gpml"
mkdir -p $gpml_root

set urls \
"https://gaussianprocess.org/gpml/data/sarcos_inv.mat" \
"https://gaussianprocess.org/gpml/data/sarcos_inv_test.mat"

for url in $urls
    set fname (string split "/" -- $url)[-1]
    set path "$gpml_root/$fname"
    # if not downloaded, download
    if test ! -e $path
        curl $url --output "$path"
    end
end

